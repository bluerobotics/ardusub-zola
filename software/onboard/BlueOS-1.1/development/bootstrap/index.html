<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="utf-8">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="preload" as="font" href="https://docs.bluerobotics.com/ardusub-zola/fonts/vendor/jost/jost-v4-latin-regular.woff2" type="font/woff2" crossorigin>
  <link rel="preload" as="font" href="https://docs.bluerobotics.com/ardusub-zola/fonts/vendor/jost/jost-v4-latin-700.woff2"  type="font/woff2" crossorigin>


<link rel="stylesheet" href="https://docs.bluerobotics.com/ardusub-zola/main.css">



  
  
    
  

  
  
    
    
  
  
  
    
  
  
  
  
    
  
  
  


  <meta name="robots" content="index, follow">
  <meta name="googlebot" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
  <meta name="bingbot" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">


	


	

<title>BlueOS-bootstrap | ArduSub</title>
<meta name="description" content="BlueOS-bootstrap development documentation.">
<link rel="canonical" href="https://docs.bluerobotics.com/ardusub-zola/software/onboard/BlueOS-1.1/development/bootstrap/">










<script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "BreadcrumbList",
    
      
      
        
        
        
        
        
        
        
        
          {
            "@type": "ListItem",
            "position":  1 ,
            "name": "Home",
            "item": "https://docs.bluerobotics.com/ardusub-zola/"
          },
          
          
          {
            "@type": "ListItem",
            "position":  2 ,
            "name": "Software",
            "item": "https://docs.bluerobotics.com/ardusub-zola/software/"
          },
        
      
        
        
        
        
        
        
        
        
          
          
          {
            "@type": "ListItem",
            "position":  3 ,
            "name": "Onboard",
            "item": "https://docs.bluerobotics.com/ardusub-zola/software/onboard/"
          },
        
      
        
        
        
        
        
        
        
        
        
        
        
          
          
          {
            "@type": "ListItem",
            "position":  4 ,
            "name": "Blueos 1.1",
            "item": "https://docs.bluerobotics.com/ardusub-zola/software/onboard/BlueOS-1.1/"
          },
        
      
        
        
        
        
        
        
        
        
          
          
          {
            "@type": "ListItem",
            "position":  5 ,
            "name": "Development",
            "item": "https://docs.bluerobotics.com/ardusub-zola/software/onboard/BlueOS-1.1/development/"
          },
        
      
        
        
        
        
        
        
        
        
          
          
          {
            "@type": "ListItem",
            "position":  6 ,
            "name": "Bootstrap",
            "item": "https://docs.bluerobotics.com/ardusub-zola/software/onboard/BlueOS-1.1/development/bootstrap/"
          },
        
      
    
  }
</script>






  <meta name="theme-color" content="#fff">
  <link rel="apple-touch-icon" sizes="180x180" href="https://docs.bluerobotics.com/ardusub-zola/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="https://docs.bluerobotics.com/ardusub-zola/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="https://docs.bluerobotics.com/ardusub-zola/favicon-16x16.png">
  
    <link rel="manifest" href="https://docs.bluerobotics.com/ardusub-zola/site.webmanifest" crossorigin>
  


  

</head>

  

<body class="docs single">
  
  
  
  
<div class="header-bar fixed-top"></div>
<header class="navbar fixed-top navbar-expand-md navbar-light">
	<div class="container">
		<input class="menu-btn order-0" type="checkbox" id="menu-btn">
		<label class="menu-icon d-md-none" for="menu-btn"><span class="navicon"></span></label>
		<a class="navbar-brand order-1 order-md-0 me-auto" href="https://docs.bluerobotics.com/ardusub-zola">ArduSub</a>
		<button id="mode" class="btn btn-link order-2 order-md-4" type="button" aria-label="Toggle mode">
			<span class="toggle-dark"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg></span>
			<span class="toggle-light"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-sun"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg></span>
		</button>
		<ul class="navbar-nav fork-me order-3 order-md-5">
			
				
					<li class="nav-item">
						<a class="nav-link" href="https://github.com/bluerobotics/ardusub-zola"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg><span class="ms-2 visually-hidden">GitHub</span></a>
					</li>
				
			
		</ul>
		<div class="collapse navbar-collapse order-4 order-md-1">
			<ul class="navbar-nav main-nav me-auto order-5 order-md-2">
				
				
				
					
						<li class="nav-item">
							<a class="nav-link" href="https://docs.bluerobotics.com/ardusub-zola/"></a>
						</li>
					
				
			</ul>
			<div class="break order-6 d-md-none"></div>
			
				<form class="navbar-form flex-grow-1 order-7 order-md-3">
					<input id="userinput" class="form-control is-search" type="search" placeholder="Search docs..."
						aria-label="Search docs..." autocomplete="off">
					<div id="suggestions" class="shadow bg-white rounded"></div>
				</form>
			
		</div>
	</div>
</header>



  
<div class="wrap container" role="document">
  <div class="content">
    <div class="row flex-xl-nowrap">
	  
<div class="col-lg-5 col-xl-4 docs-sidebar">
	<nav class="docs-links" aria-label="Main navigation">
			
			
			
					<h3>Development</h3>
					<ul class="list-unstyled">
					                           
							<li><a class="docs-link" href="https://docs.bluerobotics.com/ardusub-zola/software/onboard/BlueOS-1.1/development/overview/">Overview</a></li>
					                           
							<li><a class="docs-link active" href="https://docs.bluerobotics.com/ardusub-zola/software/onboard/BlueOS-1.1/development/bootstrap/">BlueOS-bootstrap</a></li>
					                           
							<li><a class="docs-link" href="https://docs.bluerobotics.com/ardusub-zola/software/onboard/BlueOS-1.1/development/core/">BlueOS-core</a></li>
					                           
							<li><a class="docs-link" href="https://docs.bluerobotics.com/ardusub-zola/software/onboard/BlueOS-1.1/development/extensions/">Extensions (Beta)</a></li>
					
					</ul>
			
			
	</nav>
</div>

	  
  
  <nav class="docs-toc d-none d-xl-block col-xl-4 xr-0" aria-label="Secondary navigation">
  	<div class="page-links">
  			<h3>On this page</h3>
  			<nav id="TableOfContents">
  					<ul>
  							
  							<li><a href="https://docs.bluerobotics.com/ardusub-zola/software/onboard/BlueOS-1.1/development/bootstrap/#function">Function</a></li>
  							
  							
  							<li><a href="https://docs.bluerobotics.com/ardusub-zola/software/onboard/BlueOS-1.1/development/bootstrap/#codebase">Codebase</a></li>
  							
  							
  							<li><a href="https://docs.bluerobotics.com/ardusub-zola/software/onboard/BlueOS-1.1/development/bootstrap/#updating">Updating</a></li>
  							
  							
  					</ul>
  			</nav>
  	</div>
  </nav>
  

      <main class="docs-content col-lg-11 col-xl-9">
        <h1>BlueOS-bootstrap</h1>
        
        <h2 id="function">Function</h2>
<p>BlueOS-bootstrap is responsible for making sure <a href="../core">BlueOS-core</a> is running as expected, as well as gracefully restarting core during BlueOS updates and if it is detected to have unexpectedly stopped/crashed. 
For an update the current core image gets shut down and the newly installed image gets started in its place, whereas in the case of a crash bootstrap reverts to running a known working core image, which is currently the one tagged as <code>factory</code> (which is whatever it was first flashed with), so that it's at least possible to access the interface.</p>
<h2 id="codebase">Codebase</h2>
<p><a href="https://github.com/bluerobotics/BlueOS/tree/master/bootstrap">BlueOS-bootstrap</a> is open source, and lives within the broader <a href="https://github.com/bluerobotics/BlueOS">BlueOS</a> GitHub repository. <a href="https://github.com/bluerobotics/BlueOS/issues">Issues</a> can be used to report bugs or suggest features, and <a href="https://github.com/bluerobotics/BlueOS/pulls">Pull Requests</a> fixing bugs or adding new features are welcomed.</p>
<p>BlueOS is set up with a <a href="https://docs.github.com/en/actions">GitHub Action</a> that <a href="https://github.com/bluerobotics/BlueOS/blob/master/.github/workflows/test-and-deploy.yml#L90">automatically builds and deploys</a> a BlueOS-bootstrap image when changes are pushed to the GitHub repository.
If you want to make use of that functionality you'll need a <a href="https://hub.docker.com">DockerHub</a> account, and will need to specify your DockerHub username (<code>DOCKER_USERNAME</code>) and password (<code>DOCKER_PASSWORD</code>) in your fork's <a href="https://docs.github.com/en/actions/security-guides/encrypted-secrets">GitHub secrets</a>.</p>
<h2 id="updating">Updating</h2>
<p>BlueOS-bootstrap versions are built at the same time as BlueOS-core versions, and they get bundled together in the Raspberry Pi images that can be flashed onto an SD card to install BlueOS onto it. For official BlueOS releases it is possible to update the BlueOS-bootstrap image to match the BlueOS release through the <a href="../../advanced-usage#blueos-version">BlueOS Version</a> chooser, and is the recommended process.</p>
<p>Manually updating to a non-matched and/or custom bootstrap image requires using the <a href="../../advanced-usage#terminal">Terminal</a>:</p>
<pre data-lang="sh" style="background-color:#2b303b;color:#c0c5ce;" class="language-sh "><code class="language-sh" data-lang="sh"><span style="color:#65737e;"># drop down from blueos-core into the underlying operating system:
</span><span style="color:#bf616a;">red-pill
</span><span style="color:#65737e;"># get the running bootstrap container id
</span><span style="color:#bf616a;">CURRENT_BOOTSTRAP_CONTAINER</span><span>=$</span><span style="color:#a3be8c;">(</span><span style="color:#bf616a;">docker</span><span style="color:#a3be8c;"> ps</span><span style="color:#bf616a;"> -aq --filter</span><span style="color:#a3be8c;"> name=blueos-bootstrap)
</span><span style="color:#65737e;"># stop the bootstrap container (takes 10 seconds)
</span><span style="color:#bf616a;">docker</span><span> stop $</span><span style="color:#bf616a;">CURRENT_BOOTSTRAP_CONTAINER
</span><span style="color:#65737e;"># remove the container from local memory
</span><span style="color:#65737e;"># (the underlying image remains on the system, unused)
</span><span style="color:#bf616a;">docker</span><span> container rm $</span><span style="color:#bf616a;">CURRENT_BOOTSTRAP_CONTAINER
</span><span style="color:#65737e;"># specify the Docker image source (use your account if testing a change)
</span><span style="color:#bf616a;">BOOTSTRAP_REPO</span><span>=</span><span style="color:#a3be8c;">bluerobotics
</span><span style="color:#bf616a;">BOOTSTRAP_IMAGE</span><span>=</span><span style="color:#a3be8c;">blueos-bootstrap
</span><span style="color:#65737e;"># specify the new version to use (e.g. 1.1.0-beta.27, or master)
</span><span style="color:#bf616a;">NEW_BOOTSTRAP_VERSION</span><span>=</span><span style="color:#a3be8c;">1.1.0-beta.27
</span><span style="color:#65737e;"># start running the new version
</span><span style="color:#65737e;"># (will automatically download if it&#39;s not already available locally)
</span><span style="color:#bf616a;">docker</span><span> run \
</span><span style="color:#bf616a;">    -d -t </span><span>\
</span><span style="color:#bf616a;">    --restart</span><span> unless-stopped \
</span><span style="color:#bf616a;">    --name</span><span> blueos-bootstrap \
</span><span style="color:#bf616a;">    --net</span><span>=host \
</span><span style="color:#bf616a;">    -v</span><span> /root/.config/blueos/bootstrap:/root/.config/bootstrap \
</span><span style="color:#bf616a;">    -v</span><span> /var/run/docker.sock:/var/run/docker.sock \
</span><span style="color:#bf616a;">    -e</span><span> BLUEOS_CONFIG_PATH=/root/.config/blueos \
</span><span>    $</span><span style="color:#bf616a;">BOOTSTRAP_REPO</span><span>/$</span><span style="color:#bf616a;">BOOTSTRAP_IMAGE</span><span>:$</span><span style="color:#bf616a;">NEW_BOOTSTRAP_VERSION
</span><span style="color:#65737e;"># view the logs, to check for any error or progress messages
</span><span style="color:#bf616a;">docker</span><span> logs</span><span style="color:#bf616a;"> -f </span><span>$</span><span style="color:#bf616a;">BOOTSTRAP_IMAGE
</span><span style="color:#65737e;"># press ctrl+c to return to the terminal, and you&#39;re done
</span><span style="color:#65737e;"># if you want, type &#39;exit&#39; or &#39;logout&#39; to return to the BlueOS-core container
</span></code></pre>

        
          
<p class="edit-page"><a href="https:&#x2F;&#x2F;github.com&#x2F;bluerobotics&#x2F;ardusub-zola/blob/main/content&#x2F;software&#x2F;onboard&#x2F;BlueOS-1.1&#x2F;development&#x2F;bootstrap.md"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-edit-2"><path d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"></path></svg>Edit this page on GitHub</a></p>

        
        
<div class="docs-navigation d-flex justify-content-between">
  
  
  
  
  
    
    
    
    
      
        
        <a href="https:&#x2F;&#x2F;docs.bluerobotics.com&#x2F;ardusub-zola&#x2F;software&#x2F;onboard&#x2F;BlueOS-1.1&#x2F;advanced-usage&#x2F;">
          <div class="card my-1">
            <div class="card-body py-2">
              &larr; Advanced Usage
            </div>
          </div>
        </a>
      
    
  

  
  
  
  
  
    
    
    
      
      
        
      
    
  
</div>

      </main>
    </div>
  </div>
</div>


  
    
<footer class="footer text-muted">
	<div class="container">
		<div class="row">
			<div class="col-lg-8 order-last order-lg-first">
				<ul class="list-inline">
					
						<li class="list-inline-item">Powered by <a href="https://www.getzola.org/">Zola</a> and <a href="https://github.com/ES-Alexander/adidoks">AdiDoks</a>. Sponsored by <a href="http://www.bluerobotics.com/">Blue Robotics</a>.</li>
					
				</ul>
			</div>
			<div class="col-lg-8 order-first order-lg-last text-lg-end">
				<ul class="list-inline">
					
						<li class="list-inline-item">Code under <a href="https://github.com/ArduPilot/ardupilot/blob/master/COPYING.txt">GPLv3 License</a>. Documentation under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC-NC-SA 4.0</a>.</li>
					  
				</ul>
			</div>
		</div>
	</div>
</footer>

  

  
<script type="text/javascript" src="https://docs.bluerobotics.com/ardusub-zola/js/main.js" defer></script>

<script type="text/javascript" src="https://docs.bluerobotics.com/ardusub-zola/plugins/elasticlunr.min.js" defer></script>
  <script type="text/javascript" src="https://docs.bluerobotics.com/ardusub-zola/search_index.en.js" defer></script>
  <script type="text/javascript" src="https://docs.bluerobotics.com/ardusub-zola/js/search.js" defer></script>

  
</body>
</html>
